{"version":3,"sources":["styles/App.styles.tsx","App.tsx","index.tsx"],"names":["Head","styled","h1","Wrapper","div","Select","select","getBitCoinsInfo","a","fetch","json","x","App","useQuery","data","isLoading","error","refetch","useState","currency","setCurrency","console","log","useEffect","fetchInterval","setInterval","clearInterval","value","onChange","e","currentTarget","Object","keys","map","symbol","last","queryClient","QueryClient","ReactDOM","render","StrictMode","QueryClientProvider","client","document","getElementById"],"mappings":"s3EACO,IAAMA,EAAOC,IAAOC,GAAV,KAMJC,EAAUF,IAAOG,IAAV,KAwBPC,EAASJ,IAAOK,OAAV,KChBbC,EAAe,uCAAG,4BAAAC,EAAA,sEACCC,MAAM,kCADP,8BAC0CC,OAD1C,cAChBC,EADgB,yBAEfA,GAFe,2CAAH,qDAkDNC,EA3CH,WAAO,IAAD,EAC4BC,YAAqB,SAAUN,GAAnEO,EADQ,EACRA,KAAMC,EADE,EACFA,UAAWC,EADT,EACSA,MAAOC,EADhB,EACgBA,QADhB,EAEgBC,mBAAS,OAFzB,mBAETC,EAFS,KAECC,EAFD,KAIhBC,QAAQC,IAAI,SAAUR,GACtBO,QAAQC,IAAI,wBAWZ,OANAC,qBAAU,WACR,IAAMC,EAAgBC,YAAYR,EAbjB,KAcjB,OAAO,kBAAMS,cAAcF,MAE1B,CAACP,IAEAF,EAAkB,8CAClBC,EAAc,2DAEhB,eAACb,EAAD,WACE,cAACH,EAAD,6BAEEc,GACE,qCACE,cAACT,EAAD,CAAQsB,MAAOR,EAAUS,SAlBH,SAACC,GAC/BT,EAAYS,EAAEC,cAAcH,QAiBpB,SAEII,OAAOC,KAAKlB,GAAMmB,KAAI,SAAAd,GAAQ,OAAK,wBAAuBQ,MAAOR,EAA9B,SAAyCA,GAA5BA,QAGpD,8BACE,+BACGL,EAAKK,GAAUe,OACfpB,EAAKK,GAAUgB,iB,gBClD1BC,EAAe,IAAIC,IACzBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACC,EAAA,EAAD,CAAqBC,OAAQN,EAA7B,SACE,cAAC,EAAD,QAGJO,SAASC,eAAe,W","file":"static/js/main.61e255f8.chunk.js","sourcesContent":["import styled from 'styled-components';\r\nexport const Head = styled.h1`\r\n  color: #fff;\r\n  font-size: 3rem;\r\n  padding-bottom: 1.5rem;\r\n\r\n`;\r\nexport const Wrapper = styled.div`\r\n  font-family: 'Montserrat', sans-serif;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 80vh;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #07002e;\r\n  width: 60vw;\r\n  margin: 1.5rem auto;\r\n  border-radius: 2rem;\r\n  border-top: .5rem solid rgba(59, 153, 252, 1);\r\n\r\n\r\n  div {\r\n    font-size: 2rem;\r\n    background-color: rgba(59, 153, 252, 1);\r\n    padding: 1rem 1.2rem;\r\n    margin: 1.5rem 0;\r\n    border-radius: 1.2rem\r\n  }\r\n\r\n  `;\r\n\r\nexport const Select = styled.select`\r\n  display: block;\r\n\tfont-size: 16px;\r\n\tfont-family: sans-serif;\r\n\tfont-weight: 700;\r\n\tcolor: #444;\r\n\tline-height: 1.3;\r\n\tpadding: .6em 1.4em .5em .8em;\r\n\twidth: 50%;\r\n\tmax-width: 100%;\r\n\tbox-sizing: border-box;\r\n\tmargin: .5rem 1.2rem;\r\n\tborder: 1px solid #aaa;\r\n\tbox-shadow: 0 1px 0 1px rgba(0,0,0,.04);\r\n\tborder-radius: .5em;\r\n\t-moz-appearance: none;\r\n\t-webkit-appearance: none;\r\n\tappearance: none;\r\n\tbackground-color: #fff;\r\n\tbackground-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'),\r\n\tlinear-gradient(to bottom, #ffffff 0%,#e5e5e5 100%);\r\n\tbackground-repeat: no-repeat, repeat;\r\n\tbackground-position: right .7em top 50%, 0 0;\r\n\tbackground-size: .65em auto, 100%;\r\n\r\n  ::-ms-expand {\r\n    display: none;\r\n  }\r\n\r\n  :hover {\r\n    border-color: #888;\r\n  }\r\n\r\n  :focus {\r\n    border-color: #aaa;\r\n    box-shadow: 0 0 1px 3px rgba(59, 153, 252, .7);\r\n    box-shadow: 0 0 0 3px -moz-mac-focusring;\r\n    color: #222;\r\n    outline: none;\r\n  }\r\n\r\n  option {\r\n    font-weight:normal;\r\n  }\r\n`","import { useState, useEffect  } from 'react';\r\nimport { useQuery } from 'react-query';\r\n\r\nimport { Wrapper, Head, Select  } from './styles/App.styles';\r\ntype BitCoinObj= {\r\n  '15m': number,\r\n  'last': number,\r\n  'buy': number,\r\n  'sell': number,\r\n  'symbol': string\r\n}\r\n\r\ntype Currencies = {\r\n  [key: string]: BitCoinObj\r\n} \r\nconst getBitCoinsInfo = async (): Promise<Currencies> => {\r\n  const x = await (await fetch('https://blockchain.info/ticker')).json()\r\n  return x;\r\n}\r\n\r\nconst intervalTime = 30000; // 30s\r\n\r\nconst App = () => {\r\n  const { data, isLoading, error, refetch } = useQuery<Currencies>('bcList', getBitCoinsInfo)\r\n  const [currency, setCurrency] = useState('USD')\r\n\r\n  console.log('bcList', data)\r\n  console.log('Re-fetching data ...')\r\n  const handleCurrencySelection = (e: any) => {\r\n    setCurrency(e.currentTarget.value)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchInterval = setInterval(refetch, intervalTime)\r\n    return () => clearInterval(fetchInterval)\r\n    \r\n  }, [refetch])\r\n  \r\n  if (isLoading) return <div>Loading ...</div>\r\n  if (error) return <div>Something went wrong ...</div>\r\n  return (\r\n    <Wrapper>\r\n      <Head>Bitcoin Prices</Head>\r\n      {\r\n        data && (\r\n          <>\r\n            <Select value={currency} onChange={handleCurrencySelection}>\r\n              {\r\n                Object.keys(data).map(currency => (<option key={currency} value={currency}>{currency}</option>))\r\n              }\r\n            </Select>\r\n            <div>\r\n              <h2>\r\n                {data[currency].symbol}\r\n                {data[currency].last}\r\n              </h2>\r\n            </div>\r\n          </>\r\n        )\r\n      }\r\n      \r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { QueryClient, QueryClientProvider  } from 'react-query';\r\nconst queryClient  = new QueryClient();\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <App />\r\n    </QueryClientProvider>   \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}